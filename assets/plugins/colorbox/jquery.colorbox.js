(function(b,D,M){function d(a,f,d){a=D.createElement(a);f&&(a.id=r+f);d&&(a.style.cssText=d);return b(a)}function N(a){var f=m.length;a=(s+a)%f;return 0>a?f+a:a}function n(a,f){return Math.round((/%/.test(a)?("x"===f?O():P())/100:1)*parseInt(a,10))}function ga(e){return a.photo||/\.(gif|png|jp(e|g|eg)|bmp|ico)((#|\?).*)?$/i.test(e)}function O(){return M.innerWidth||q.width()}function P(){return M.innerHeight||q.height()}function ha(){var e,f=b.data(k,u);null==f?(a=b.extend({},U),console&&console.log&&
console.log("Error: cboxElement missing settings object")):a=b.extend({},f);for(e in a)b.isFunction(a[e])&&"on"!==e.slice(0,2)&&(a[e]=a[e].call(k));a.rel=a.rel||k.rel||"nofollow";a.href=a.href||b(k).attr("href");a.title=a.title||k.title;"string"===typeof a.href&&(a.href=b.trim(a.href))}function B(a,f){b.event.trigger(a);f&&f.call(k)}function na(){var e,f=r+"Slideshow_",b="click."+r,d,c;a.slideshow&&m[1]?(d=function(){E.text(a.slideshowStop).unbind(b).bind(V,function(){if(a.loop||m[s+1])e=setTimeout(g.next,
a.slideshowSpeed)}).bind(W,function(){clearTimeout(e)}).one(b+" "+Q,c);l.removeClass(f+"off").addClass(f+"on");e=setTimeout(g.next,a.slideshowSpeed)},c=function(){clearTimeout(e);E.text(a.slideshowStart).unbind([V,W,Q,b].join(" ")).one(b,function(){g.next();d()});l.removeClass(f+"on").addClass(f+"off")},a.slideshowAuto?d():c()):l.removeClass(f+"off "+f+"on")}function ia(e){if(!R){k=e;ha();m=b(k);s=0;"nofollow"!==a.rel&&(m=b("."+F).filter(function(){var e=b.data(this,u),d;e&&(d=e.rel||this.rel);return d===
a.rel}),s=m.index(k),-1===s&&(m=m.add(k),s=m.length-1));if(!v){v=G=!0;l.show();if(a.returnFocus)b(k).blur().one(ja,function(){b(this).focus()});y.css({opacity:+a.opacity,cursor:a.overlayClose?"pointer":"auto"}).show();a.w=n(a.initialWidth,"x");a.h=n(a.initialHeight,"y");g.position();H&&q.bind("resize."+S+" scroll."+S,function(){y.css({width:O(),height:P(),top:q.scrollTop(),left:q.scrollLeft()})}).trigger("resize."+S);B(ka,a.onOpen);X.add(Y).hide();Z.html(a.close).show()}g.load(!0)}}function la(){!l&&
D.body&&($=!1,q=b(M),l=d(c).attr({id:u,"class":I?r+(H?"IE6":"IE"):""}).hide(),y=d(c,"Overlay",H?"position:absolute":"").hide(),aa=d(c,"LoadingOverlay").add(d(c,"LoadingGraphic")),C=d(c,"Wrapper"),t=d(c,"Content").append(p=d(c,"LoadedContent","width:0; height:0; overflow:hidden"),Y=d(c,"Title"),ba=d(c,"Current"),J=d(c,"Next"),K=d(c,"Previous"),E=d(c,"Slideshow").bind(ka,na),Z=d(c,"Close")),C.append(d(c).append(d(c,"TopLeft"),ca=d(c,"TopCenter"),d(c,"TopRight")),d(c,!1,"clear:left").append(da=d(c,"MiddleLeft"),
t,ea=d(c,"MiddleRight")),d(c,!1,"clear:left").append(d(c,"BottomLeft"),fa=d(c,"BottomCenter"),d(c,"BottomRight"))).find("div div").css({"float":"left"}),L=d(c,!1,"position:absolute; width:9999px; visibility:hidden; display:none"),X=J.add(K).add(ba).add(E),b(D.body).append(y,l.append(C,L)))}function oa(){return l?($||($=!0,z=ca.height()+fa.height()+t.outerHeight(!0)-t.height(),A=da.width()+ea.width()+t.outerWidth(!0)-t.width(),w=p.outerHeight(!0),x=p.outerWidth(!0),l.css({"padding-bottom":z,"padding-right":A}),
J.click(function(){g.next()}),K.click(function(){g.prev()}),Z.click(function(){g.close()}),y.click(function(){a.overlayClose&&g.close()}),b(D).bind("keydown."+r,function(e){var b=e.keyCode;v&&a.escKey&&27===b&&(e.preventDefault(),g.close());v&&a.arrowKey&&m[1]&&(37===b?(e.preventDefault(),K.click()):39===b&&(e.preventDefault(),J.click()))}),b("."+F,D).live("click",function(a){1<a.which||a.shiftKey||a.altKey||a.metaKey||(a.preventDefault(),ia(this))})),!0):!1}var U={transition:"elastic",speed:300,
width:!1,initialWidth:"600",innerWidth:!1,maxWidth:!1,height:!1,initialHeight:"450",innerHeight:!1,maxHeight:!1,scalePhotos:!0,scrolling:!0,inline:!1,html:!1,iframe:!1,fastIframe:!0,photo:!1,href:!0,title:!1,rel:!1,opacity:0.9,preloading:!0,current:"{current} of {total}",previous:"previous",next:"next",close:"close",xhrError:"This content failed to load.",imgError:"This image failed to load.",open:!1,returnFocus:!0,reposition:!0,loop:!0,slideshow:!1,slideshowAuto:!0,slideshowSpeed:2500,slideshowStart:"start slideshow",
slideshowStop:"stop slideshow",onOpen:!1,onLoad:!1,onComplete:!1,onCleanup:!1,onClosed:!1,overlayClose:!0,escKey:!0,arrowKey:!0,top:!1,bottom:!1,left:!1,right:!1,fixed:!1,data:void 0},u="colorbox",r="cbox",F=r+"Element",ka=r+"_open",W=r+"_load",V=r+"_complete",Q=r+"_cleanup",ja=r+"_closed",T=r+"_purge",I=!b.support.opacity&&!b.support.style,H=I&&!M.XMLHttpRequest,S=r+"_IE6",y,l,C,t,ca,da,ea,fa,m,q,p,L,aa,Y,ba,E,J,K,Z,X,a,z,A,w,x,k,s,h,v,G,R,ma,g,c="div",$;b.colorbox||(b(la),g=b.fn[u]=b[u]=function(a,
d){var c=this;a=a||{};la();if(oa()){if(!c[0]){if(c.selector)return c;c=b("<a/>");a.open=!0}d&&(a.onComplete=d);c.each(function(){b.data(this,u,b.extend({},b.data(this,u)||U,a))}).addClass(F);(b.isFunction(a.open)&&a.open.call(c)||a.open)&&ia(c[0])}return c},g.position=function(b,d){function c(a){ca[0].style.width=fa[0].style.width=t[0].style.width=a.style.width;t[0].style.height=da[0].style.height=ea[0].style.height=a.style.height}var h,m=h=0,p=l.offset(),s,k;q.unbind("resize."+r);l.css({top:-9E4,
left:-9E4});s=q.scrollTop();k=q.scrollLeft();a.fixed&&!H?(p.top-=s,p.left-=k,l.css({position:"fixed"})):(h=s,m=k,l.css({position:"absolute"}));m=!1!==a.right?m+Math.max(O()-a.w-x-A-n(a.right,"x"),0):!1!==a.left?m+n(a.left,"x"):m+Math.round(Math.max(O()-a.w-x-A,0)/2);h=!1!==a.bottom?h+Math.max(P()-a.h-w-z-n(a.bottom,"y"),0):!1!==a.top?h+n(a.top,"y"):h+Math.round(Math.max(P()-a.h-w-z,0)/2);l.css({top:p.top,left:p.left});b=l.width()===a.w+x&&l.height()===a.h+w?0:b||0;C[0].style.width=C[0].style.height=
"9999px";h={width:a.w+x,height:a.h+w,top:h,left:m};0===b&&l.css(h);l.dequeue().animate(h,{duration:b,complete:function(){c(this);G=!1;C[0].style.width=a.w+x+A+"px";C[0].style.height=a.h+w+z+"px";a.reposition&&setTimeout(function(){q.bind("resize."+r,g.position)},1);d&&d()},step:function(){c(this)}})},g.resize=function(b){v&&(b=b||{},b.width&&(a.w=n(b.width,"x")-x-A),b.innerWidth&&(a.w=n(b.innerWidth,"x")),p.css({width:a.w}),b.height&&(a.h=n(b.height,"y")-w-z),b.innerHeight&&(a.h=n(b.innerHeight,"y")),
b.innerHeight||b.height||(p.css({height:"auto"}),a.h=p.height()),p.css({height:a.h}),g.position("none"===a.transition?0:a.speed))},g.prep=function(e){function f(){a.w=a.w||p.width();a.w=a.mw&&a.mw<a.w?a.mw:a.w;return a.w}function k(){a.h=a.h||p.height();a.h=a.mh&&a.mh<a.h?a.mh:a.h;return a.h}if(v){var n,q="none"===a.transition?0:a.speed;p.remove();p=d(c,"LoadedContent").append(e);p.hide().appendTo(L.show()).css({width:f(),overflow:a.scrolling?"auto":"hidden"}).css({height:k()}).prependTo(t);L.hide();
b(h).css({"float":"none"});if(H)b("select").not(l.find("select")).filter(function(){return"hidden"!==this.style.visibility}).css({visibility:"hidden"}).one(Q,function(){this.style.visibility="inherit"});n=function(){function c(){I&&l[0].style.removeAttribute("filter")}var f,g;f=m.length;var e,n,k;if(v){n=function(){clearTimeout(ma);aa.detach().hide();B(V,a.onComplete)};I&&h&&p.fadeIn(100);Y.html(a.title).add(p).show();if(1<f){if("string"===typeof a.current&&ba.html(a.current.replace("{current}",s+
1).replace("{total}",f)).show(),J[a.loop||s<f-1?"show":"hide"]().html(a.next),K[a.loop||s?"show":"hide"]().html(a.previous),a.slideshow&&E.show(),a.preloading)for(f=[N(-1),N(1)];g=m[f.pop()];)(k=b.data(g,u))&&k.href?(k=k.href,b.isFunction(k)&&(k=k.call(g))):k=g.href,ga(k)&&(g=new Image,g.src=k)}else X.hide();if(a.iframe){e=d("iframe")[0];"frameBorder"in e&&(e.frameBorder=0);"allowTransparency"in e&&(e.allowTransparency="true");e.name=r+ +new Date;if(a.fastIframe)n();else b(e).one("load",n);e.src=
a.href;a.scrolling||(e.scrolling="no");b(e).addClass(r+"Iframe").appendTo(p).one(T,function(){e.src="//about:blank"})}else n();"fade"===a.transition?l.fadeTo(q,1,c):c()}};"fade"===a.transition?l.fadeTo(q,0,function(){g.position(0,n)}):g.position(q,n)}},g.load=function(e){var f,l,q=g.prep;G=!0;h=!1;k=m[s];e||ha();B(T);B(W,a.onLoad);a.h=a.height?n(a.height,"y")-w-z:a.innerHeight&&n(a.innerHeight,"y");a.w=a.width?n(a.width,"x")-x-A:a.innerWidth&&n(a.innerWidth,"x");a.mw=a.w;a.mh=a.h;a.maxWidth&&(a.mw=
n(a.maxWidth,"x")-x-A,a.mw=a.w&&a.w<a.mw?a.w:a.mw);a.maxHeight&&(a.mh=n(a.maxHeight,"y")-w-z,a.mh=a.h&&a.h<a.mh?a.h:a.mh);f=a.href;ma=setTimeout(function(){aa.show().appendTo(t)},100);a.inline?(d(c).hide().insertBefore(b(f)[0]).one(T,function(){b(this).replaceWith(p.children())}),q(b(f))):a.iframe?q(" "):a.html?q(a.html):ga(f)?(b(h=new Image).addClass(r+"Photo").error(function(){a.title=!1;q(d(c,"Error").html(a.imgError))}).load(function(){var b;h.onload=null;a.scalePhotos&&(l=function(){h.height-=
h.height*b;h.width-=h.width*b},a.mw&&h.width>a.mw&&(b=(h.width-a.mw)/h.width,l()),a.mh&&h.height>a.mh&&(b=(h.height-a.mh)/h.height,l()));a.h&&(h.style.marginTop=Math.max(a.h-h.height,0)/2+"px");m[1]&&(a.loop||m[s+1])&&(h.style.cursor="pointer",h.onclick=function(){g.next()});I&&(h.style.msInterpolationMode="bicubic");setTimeout(function(){q(h)},1)}),setTimeout(function(){h.src=f},1)):f&&L.load(f,a.data,function(e,f,g){q("error"===f?d(c,"Error").html(a.xhrError):b(this).contents())})},g.next=function(){!G&&
m[1]&&(a.loop||m[s+1])&&(s=N(1),g.load())},g.prev=function(){!G&&m[1]&&(a.loop||s)&&(s=N(-1),g.load())},g.close=function(){v&&!R&&(R=!0,v=!1,B(Q,a.onCleanup),q.unbind("."+r+" ."+S),y.fadeTo(200,0),l.stop().fadeTo(300,0,function(){l.add(y).css({opacity:1,cursor:"auto"}).hide();B(T);p.remove();setTimeout(function(){R=!1;B(ja,a.onClosed)},1)}))},g.remove=function(){b([]).add(l).add(y).remove();l=null;b("."+F).removeData(u).removeClass(F).die()},g.element=function(){return b(k)},g.settings=U)})(jQuery,
document,this);
